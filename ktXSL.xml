<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="html" encoding="UTF-8"/>

<!-- Ключ для поиска курсов по преподавателям -->
<xsl:key name="teacher-key" match="course" use="teachers/teacher"/>

<!-- Ключ для поиска курсов по ключевым словам -->
<xsl:key name="keyword-key" match="course" use="keywords/keyword"/>

<xsl:template match="/">
<html>
<body>
<h1>Наши курсы</h1>

<h3>Курсы, которые читает Борисов И.О.</h3>
<ul>
    <xsl:for-each select="key('teacher-key', 'Борисов И.О.')">
        <xsl:sort select="title"/>
        <li><xsl:value-of select="title"/></li>
    </xsl:for-each>
</ul>

<h3>Курсы, которые используют XML</h3>
<ul>
    <xsl:for-each select="key('keyword-key', 'XML')">
        <xsl:sort select="title"/>
        <li><xsl:value-of select="title"/></li>
    </xsl:for-each>
</ul>

<h3>Курсы, которые читает Борисов И.О. и используют XSLT</h3>
<ul>
    <xsl:for-each select="key('keyword-key', 'XSLT')[teachers/teacher='Борисов И.О.']">
        <xsl:sort select="title"/>
        <li><xsl:value-of select="title"/></li>
    </xsl:for-each>
</ul>

</body>
</html>
</xsl:template>

</xsl:stylesheet>